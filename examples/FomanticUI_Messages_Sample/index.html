<!-- Wuse (Web Using Shadow Elements) by j-a-s-d -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.8/dist/semantic.min.css">
  <title>Wuse | FomanticUI Messages Sample</title>
  <script src="../../dist/wuse.min.js"></script>
</head>
<body>
  <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.8/dist/semantic.min.js"></script>
  <p>This is a port of the <a href="https://fomantic-ui.com/collections/message.html" target="_blank">FomanticUI 2.8.8 Message examples</a>.</p>
  <hr/>
  <script>
    class FomanticUI_Messages_Sample extends Wuse.NonShadowElement {

      static {
        Wuse.register([this, class FomanticUI_Messages_Basic extends Wuse.NonShadowElement {

          on_create() {
            this
              .setAttributesAsKeys(true)
              .setMainElement("div.ui.message")
              .appendChildElement("div.header=~{title}~")
              .appendChildElement("p=~{content}~")
              .makeReactiveField("title", "")
              .makeReactiveField("content", "")
          }

        }, class FomanticUI_Messages_Icon extends Wuse.NonShadowElement {

          on_create() {
            this
              .setAttributesAsKeys(true)
              .setMainElement("div.ui.icon.message")
              .appendChildElement("i.~{icon}~.icon")
              .appendChildElement("div.content=<div class='header'>~{title}~</div><p>~{content}~</p>")
              .makeReactiveField("title", "")
              .makeReactiveField("content", "")
          }

        }, class FomanticUI_Messages_Dismissable extends Wuse.NonShadowElement {

          on_create() {
            this
              .setAttributesAsKeys(true)
              .setMainElement("div.ui.message")
              .appendChildElement("i.~{icon}~.icon")
              .appendChildElement("div.header=~{title}~")
              .appendChildElement("p=~{content}~")
              .makeReactiveField("title", "")
              .makeReactiveField("content", "")
          }

          on_load() {
            $(`.message .${this.icon}`).on('click', () => $(this).transition('fade'));
          }

        }]);
      }

      on_create() {
        this
          .setMainElement("div[style=margin:4em]")
          .appendChildElements(`
            h2=Message
            h3=A basic message
            fomanticui-messages-basic[title='Changes in Service'|content='We just updated our privacy policy here to better service our customers. We recommend reviewing the changes.']
            br
            h2=Icon Message
            h3=A message can contain an icon.
            fomanticui-messages-icon[icon='inbox'|title='Have you heard about our mailing list?'|content='Get the best news in your e-mail every day.']
            br
            fomanticui-messages-icon[icon='notched circle loading'|title='Just one second'|content="We're fetching that content for you."]
            br
            h2=Dismissable Block
            h3=A message that the user can choose to hide
            fomanticui-messages-dismissable[icon='close'|title='Welcome back!'|content="This is a special notification which you can dismiss if you're bored with it."]
          `)
      }

    }
    const sampleApp = FomanticUI_Messages_Sample.create();
    /*sampleApp.loadItems([
      { active: true, title: "Accordion 1", content: "<p>Panel 1. Lorem ipsum dolor</p><a href='#'>Nowhere to Go</a>" },
      { active: false, title: "Accordion 2", content: "<textarea></textarea><button class='button'>I do nothing!</button>" },
      { active: false, title: "Accordion 3", content: "Type your name!<input type='text'></input>" }
    ]);
    sampleApp.appendCSSRule("body", "padding: 2rem 1rem");
    sampleApp.render();*/
  </script>
</body>
</html>

