(()=>{var xi=Object.defineProperty;var $i=(s,e,t)=>e in s?xi(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var d=(s,e,t)=>($i(s,typeof e!="symbol"?e+"":e,t),t),je=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var n=(s,e,t)=>(je(s,e,"read from private field"),t?t.call(s):e.get(s)),o=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},u=(s,e,t,i)=>(je(s,e,"write to private field"),i?i.call(s,t):e.set(s,t),t);var l=(s,e,t)=>(je(s,e,"access private method"),t);var re,oe,ii=(s,e)=>(typeof e=="function"&&e(s),s),h=class{static get EMPTY_STRING(){return n(this,re)}static get EMPTY_ARRAY(){return n(this,oe)}static noop(){}static isNonEmptyString(e){return typeof e=="string"&&!!e.length}static forcedStringSplit(e,t){return typeof e=="string"?e.split(t):new window.Array}static buildArray(e){return ii(new window.Array,e)}static buildObject(e){return ii(new window.Object,e)}static ensureFunction(e,t=()=>{}){return typeof e=="function"?e:t}static isOf(e,t){return e!=null&&(e.constructor===t||t!=null&&e.constructor.name===t.name)}static hasObjectKeys(e){return!!(e&&!!window.Object.keys(e).length)}static cloneObject(e){return window.Object.assign(new window.Object,e)}static forEachOwnProperty(e,t){e&&window.Object.getOwnPropertyNames(e).forEach(t)}static isAssignedObject(e){return typeof e=="object"&&e!==null}static isAssignedArray(e){return typeof e=="object"&&e!==null&&e.constructor.name==="Array"}static isNonEmptyArray(e){return typeof e=="object"&&e!==null&&e.constructor.name==="Array"&&!!e.length}};re=new WeakMap,oe=new WeakMap,o(h,re,new window.String().valueOf()),o(h,oe,window.Object.freeze(new window.Array));var P=class{static onDOMContentLoaded(e){if(e&&e.constructor===window.Function){let t=()=>{e(),setTimeout(()=>window.removeEventListener("DOMContentLoaded",t),100)};window.addEventListener("DOMContentLoaded",t)}}static getUniqueId(e="WUSE"){let t="_"+(e||"")+"_";for(var i;window.document.getElementById(i=t+(""+window.Math.random()).substring(2))!==null;);return i}static removeChildren(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}static htmlEncode(e=""){return typeof e!="string"?null:e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}static getCSSVendorPrefix(){let e=window.getComputedStyle(window.document.body,""),i=window.Array.prototype.slice.call(e).filter(r=>r.charAt(0)==="-");return i.length?"-"+i[0].split("-")[1]+"-":""}};var ae,T,Ge=class{static get UNKNOWN_ERROR(){return n(this,T).call(this,0,e=>"Unknown error.")}static get UNSUPPORTED_FEATURE(){return n(this,T).call(this,1,e=>`Unsupported feature: ${e}.`)}static get UNREGISTERED_CLASS(){return n(this,T).call(this,2,e=>`Unregistered class: ${e}.`)}static get UNREGISTRABLE_CLASS(){return n(this,T).call(this,3,e=>`Unregistrable class: ${e}.`)}static get INVALID_CLASS(){return n(this,T).call(this,4,e=>`Invalid class: ${e}.`)}static get MISNAMED_CLASS(){return n(this,T).call(this,5,e=>`Misnamed class: ${e}.`)}static get INVALID_DEFINITION(){return n(this,T).call(this,10,e=>`Invalid definition: ${e}.`)}static get INVALID_ID(){return n(this,T).call(this,11,e=>`Invalid id: ${e}.`)}static get INVALID_KEY(){return n(this,T).call(this,12,e=>"Call first: this.setElementsStoreKey(<your-valid-key>).")}static get ALLOW_HTML(){return n(this,T).call(this,13,e=>"Call first: this.allowRawContent(true).")}static get INEXISTENT_TEMPLATE(){return n(this,T).call(this,20,e=>`Inexistent template: #${e}.`)}static get EXTINCT_TEMPLATE(){return n(this,T).call(this,21,e=>`Extinct template: #${e}.`)}static get INVALID_TEMPLATE(){return n(this,T).call(this,22,e=>`Invalid template: #${e}.`)}static get UNESPECIFIED_SLOT(){return n(this,T).call(this,30,e=>`Unespecified slot: #${e}.`)}},g=Ge;ae=new WeakMap,T=new WeakMap,o(g,ae,"[WUSE:ERROR]"),o(g,T,(e,t)=>({code:e,emit:i=>{let r=`${n(Ge,ae)} ${e} | ${t(i)}`;if(window.Wuse&&window.Wuse.FATALS||e<10)throw new window.Error(r);return window.console.error(r),null}}));var gt,yt,It,At,Tt,de,ri,le,oi,he,ai,ce,di,{noop:$t,ensureFunction:dt,isAssignedObject:ni,isAssignedArray:In,isNonEmptyArray:si}=h,ji=s=>s.toLowerCase().replaceAll("_","-"),S=class{static registerClasses(e){si(e)&&window.Array.prototype.forEach.call(e,t=>typeof t=="function"?l(this,le,oi).call(this,t):n(this,It).call(this,t))}static instantiateClasses(e,t,i){si(e)&&window.Array.prototype.forEach.call(e,r=>window.customElements.get(r.tag)?l(this,ce,di).call(this,r,t,ni(i)?i:new window.Object):n(this,Tt).call(this,r.name))}static initialize(e){ni(e)&&(u(this,gt,dt(e.onDeferredInstantiation,n(this,gt))),u(this,It,dt(e.onInvalidClass,n(this,It))),u(this,yt,dt(e.onMisnamedClass,n(this,yt))),u(this,At,dt(e.onUnregistrableClass,n(this,At))),u(this,Tt,dt(e.onUnregisteredClass,n(this,Tt))))}};gt=new WeakMap,yt=new WeakMap,It=new WeakMap,At=new WeakMap,Tt=new WeakMap,de=new WeakSet,ri=function(e){window.HTMLElement.isPrototypeOf(e)?window.customElements.define(e.tag,e):n(this,At).call(this,e.name)},le=new WeakSet,oi=function(e){e.name.indexOf("_")>0?(e.tag=ji(e.name),l(this,de,ri).call(this,e)):n(this,yt).call(this,e.name)},he=new WeakSet,ai=function(e,t,i){let r=null;try{r=window.document.querySelector(t)}catch(c){if(dt(i.onBadTarget)(t)===!1)return}finally{r=r||window.document.body}let a=window.document.createElement(e.tag);dt(i.onElementInstantiated)(a,t),r.appendChild(a)},ce=new WeakSet,di=function(e,t,i){let r=()=>l(this,he,ai).call(this,e,t,i);window.document.body?r():n(this,gt).call(this,r)},o(S,de),o(S,le),o(S,he),o(S,ce),o(S,gt,$t),o(S,yt,$t),o(S,It,$t),o(S,At,$t),o(S,Tt,$t);var z,Gt,Ke,jt=class{constructor(){o(this,Gt);o(this,z,new window.Object)}get length(){return l(this,Gt,Ke).call(this).length}key(e){return l(this,Gt,Ke).call(this)[e]||null}getItem(e){return n(this,z)[e]}setItem(e,t){n(this,z)[e]=t}removeItem(e){delete n(this,z)[e]}clear(){u(this,z,new window.Object)}hasItem(e){return n(this,z).hasOwnProperty(e)}};z=new WeakMap,Gt=new WeakSet,Ke=function(){return window.Object.keys(n(this,z))};var St,bt,{noop:li,ensureFunction:hi,isAssignedObject:Gi}=h,et=class{static fetch(e){let t=window.document.getElementById(e);return t===null?n(this,St).call(this,e):t.tagName!=="TEMPLATE"?n(this,bt).call(this,e):t.innerHTML}static initialize(e){Gi(e)&&(u(this,St,hi(e.onExtinctTemplate,n(this,St))),u(this,bt,hi(e.onInvalidTemplate,n(this,bt))))}};St=new WeakMap,bt=new WeakMap,o(et,St,li),o(et,bt,li);var Ee,ui,ci,pe,me,vt,ue=s=>s>1e3?(s/1e3).toFixed(2)+"s":s.toFixed(2)+"ms",fe=class{constructor(){d(this,"round",0);d(this,"domTime",window.Number.MAX_SAFE_INTEGER);d(this,"renderTime",window.Number.MAX_SAFE_INTEGER)}getDebugInfo(){var e=new window.Object;return e.round=this.round,e.domTime=ue(this.domTime),this.renderTime!==window.Number.MAX_SAFE_INTEGER&&(e.renderTime=ue(this.renderTime)),e}},we=class{constructor(e){d(this,"name","");d(this,"rounds",0);d(this,"time",0);d(this,"average",0);this.name=e}compute(e){this.rounds++,this.time+=e,this.average=this.time/this.rounds}getDebugInfo(){let e=ue(this.time),t=ue(this.average);return{name:this.name,rounds:this.rounds,spent:e,average:t}}},_=class{static initialize(e){typeof e=="function"&&u(_,vt,e),_.DOMUpdate.overall=new we("overall-dom-update"),_.BrowserRender.overall=new we("overall-browser-render")}},M=_;vt=new WeakMap,o(M,vt,()=>{}),d(M,"StopWatch",(ci=class{constructor(){o(this,Ee);d(this,"_begin",0);d(this,"_end",{dom:0,render:0});d(this,"rounds",0);d(this,"last",new fe);d(this,"best",new fe);d(this,"averages",{dom:0,render:0})}start(){(_.DOMUpdate.check||_.BrowserRender.check)&&(this.last.round=++this.rounds,this._begin=performance.now())}stop(e){var t;_.DOMUpdate.check&&(this.best.domTime>(this.last.domTime=(this._end.dom=performance.now())-this._begin)&&(this.best.round=this.last.round,this.best.domTime=this.last.domTime),this.averages.dom=(this.averages.dom*(this.rounds-1)+this.last.domTime)/this.rounds,_.DOMUpdate.overall.compute(this.last.domTime)),_.BrowserRender.check?setTimeout(()=>l(this,Ee,ui).bind(this)(e)):e&&n(t=_,vt).call(t,this,"stop")}getDebugInfo(){return{rounds:this.rounds,last:this.last.getDebugInfo(),best:this.best.getDebugInfo(),averages:this.averages}}},Ee=new WeakSet,ui=function(e){var t;this.best.renderTime>(this.last.renderTime=(this._end.render=performance.now())-this._begin)&&(this.best.round=this.last.round,this.best.renderTime=this.last.renderTime),this.averages.render=(this.averages.render*(this.rounds-1)+this.last.renderTime)/this.rounds,_.BrowserRender.overall.compute(this.last.renderTime),e&&n(t=_,vt).call(t,this,"finish")},ci)),d(M,"DOMUpdate",(pe=class{},d(pe,"check",!0),d(pe,"overall",null),pe)),d(M,"BrowserRender",(me=class{},d(me,"check",!1),d(me,"overall",null),me));var b=class{static get TEMPLATES_KIND(){return"%templates%"}static get SLOTS_KIND(){return"%slots%"}static get TEXTNODE_TAG(){return"^text^"}static get DEFAULT_KIND(){return""}static get DEFAULT_TAG(){return"div"}static get DEFAULT_STYLE_MEDIA(){return"screen"}static get DEFAULT_STYLE_TYPE(){return"text/css"}static get DEFAULT_REPLACEMENT_OPEN(){return"~{"}static get DEFAULT_REPLACEMENT_CLOSE(){return"}~"}};var Kt,ge,lt,kt,Pt,{EMPTY_ARRAY:Ki,buildArray:ke,buildObject:ki,isNonEmptyString:Pi,isOf:zi}=h,Nt=class{static initialize(e,t){this.begin=e,this.end=t}},B=Nt;d(B,"begin",null),d(B,"end",null),d(B,"enclose",e=>Nt.begin+e+Nt.end),d(B,"makeRegExp",()=>new window.RegExp("(?<="+Nt.begin+").*?(?="+Nt.end+")","gs"));var Bi=["contents","classes","styles","attributes"],Ot=class{};d(Ot,"rules",(e,t)=>ke(i=>e.forEach(r=>r.replacements.forEach(a=>a.field===t&&i.push(r))))),d(Ot,"children",(e,t)=>ke(i=>{let r=a=>{let c=f=>f.forEach(I=>I.field===t&&i.push(a));Bi.forEach(f=>c(a.replacements[f])),a.rules.forEach(f=>f.replacements.forEach(I=>I.field===t&&i.push(a)))};e.forEach(a=>a.rendering&&r(a))}));var N=class{static initialize(e){u(this,Kt,e)}},U=N;Kt=new WeakMap,ge=new WeakMap,lt=new WeakMap,kt=new WeakMap,Pt=new WeakMap,o(U,Kt,null),o(U,ge,(e,t,i)=>e.push({at:t,field:i.trim(),find:B.enclose(i)})),o(U,lt,(e,t,i)=>Pi(i)&&(i.match(n(N,Kt))||Ki).forEach(r=>{var a;return n(a=N,ge).call(a,e,t,r)})),o(U,kt,(e,t,i)=>{var r;e[t]=new window.Array,n(r=N,lt).call(r,e[t],t,i)}),o(U,Pt,(e,t,i)=>{e[t]=new window.Array,window.Object.keys(i).forEach(r=>{var a,c;n(a=N,lt).call(a,e[t],t,r),n(c=N,lt).call(c,e[t],t,i[r])})}),d(U,"child",e=>ki(t=>{var i,r,a,c;n(i=N,kt).call(i,t,"contents",e.content),n(r=N,kt).call(r,t,"classes",e.classes.join(" ")),n(a=N,Pt).call(a,t,"styles",e.style),n(c=N,Pt).call(c,t,"attributes",e.attributes),e.rules.forEach(f=>f.replacements=N.rule(f))})),d(U,"rule",e=>ke(t=>{var r;if(zi(e.nested,window.Array))return e.nested.map(a=>N.rule(a));var i="";for(let a in e.properties)i+=`${a}:${e.properties[a]};`;n(r=N,lt).call(r,t,"rules",i)}));var L=class{static initialize(e,t){B.initialize(e,t),U.initialize(B.makeRegExp())}};d(L,"extractReplacementsFromRule",U.rule),d(L,"extractReplacementsFromChild",U.child),d(L,"scanRulesForReplacements",Ot.rules),d(L,"scanChildrenForReplacements",Ot.children);var Ct,{noop:Hi,isOf:Yi,hasObjectKeys:fi,isNonEmptyString:wi,isNonEmptyArray:Vi,isAssignedObject:Ji,ensureFunction:Xi}=h,{htmlEncode:pi}=P,{TEMPLATES_KIND:qi,TEXTNODE_TAG:Qi}=b,ye=class{static initialize(e){Ji(e)&&u(this,Ct,Xi(e.onFetchTemplate,n(this,Ct)))}},E=ye;Ct=new WeakMap,o(E,Ct,Hi),d(E,"cacheInvalidator",e=>e.cache=null),d(E,"renderingIncluder",e=>e.rendering=!0),d(E,"renderingExcluder",e=>e.rendering=!1),d(E,"renderRule",(e,t)=>{if(Yi(t.nested,window.Array))return`${t.selector}{${t.nested.map(r=>ye.renderRule(e,r)).join(`
`)}}`;if(wi(t.selector)&&!t.nested){var i=new window.String;for(let r in t.properties)i+=`${r}:${t.properties[r]};`;return Vi(t.replacements)&&t.replacements.forEach(r=>i=e(i,r)),`${t.selector}{${i}}`}return null}),d(E,"renderChild",(e,t)=>{var a;if(t.kind===qi)return n(a=ye,Ct).call(a,t.id);if(t.tag===Qi){var i=t.content;return t.replacements.contents.forEach(c=>i=e(i,c)),t.encode?pi(i):i}var r=wi(t.id)?`<${t.tag} id='${t.id}'`:`<${t.tag}`;if(t.classes.length){var i=t.classes.join(" ");t.replacements.classes.forEach(f=>i=e(i,f)),r+=` class='${i}'`}if(fi(t.style)){var i=" style='";for(let f in t.style)i+=f+": "+t.style[f]+"; ";i+="'",t.replacements.styles.forEach(f=>i=e(i,f)),r+=i}if(fi(t.attributes)){var i=new window.String;for(let f in t.attributes)i+=` ${f}=${t.attributes[f]}`;t.replacements.attributes.forEach(f=>i=e(i,f)),r+=i}if(typeof t.content=="string"){var i=t.content;t.replacements.contents.forEach(f=>i=e(i,f)),r+=`>${t.encode?pi(i):i}</${t.tag}>`}else r+="/>";return r});var zt,Bt,Ht,Yt,Dt=class{constructor(e){d(this,"rounds",0);o(this,zt,0);o(this,Bt,null);o(this,Ht,!1);o(this,Yt,null);u(this,Yt,typeof e=="function"?e:()=>{})}compute(e){return this.rounds+=+u(this,Ht,n(this,zt)==u(this,Bt,n(this,Yt).call(this,e))),u(this,zt,n(this,Bt)),n(this,Ht)}};zt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,Yt=new WeakMap;var ht,G,it,Ie,mi,_t=class{constructor(e,t){o(this,Ie);o(this,ht,null);o(this,G,null);o(this,it,null);if(e instanceof Node&&t instanceof Node)u(this,ht,e),u(this,G,t),u(this,it,t.cloneNode(!1));else throw new Error("[WUSE:ERROR] Wrong arguments supplied.")}get element(){return n(this,G)}affiliate(){n(this,ht).appendChild(n(this,G))}disaffiliate(){n(this,ht).removeChild(n(this,G))}promote(e){n(this,it).innerHTML=e,n(this,ht).replaceChild(n(this,it),n(this,G)),l(this,Ie,mi).call(this)}};ht=new WeakMap,G=new WeakMap,it=new WeakMap,Ie=new WeakSet,mi=function(){let e=n(this,it);u(this,it,n(this,G).cloneNode(!1)),u(this,G,e)};var ct,ut,ft=class{constructor(e){d(this,"owner",null);o(this,ct,!1);o(this,ut,"");this.owner=e}get invalidated(){return n(this,ct)}reset(e){u(this,ct,!1),u(this,ut,e)}append(e){u(this,ut,n(this,ut)+e)}verify(e){u(this,ct,e(n(this,ut)))}process(){n(this,ct)&&this.on_content_invalidation(n(this,ut))}on_content_invalidation(e){}};ct=new WeakMap,ut=new WeakMap;var Lt,Ae,{isOf:Pe,cloneObject:Ei,forEachOwnProperty:gi,buildArray:Zi}=h,wt=class extends window.Array{constructor(t){super();o(this,Lt);d(this,"owner",null);d(this,"last",null);d(this,"version",0);this.owner=t}append(t){Pe(t,window.Object)&&(this.push(t),l(this,Lt,Ae).call(this,t))}prepend(t){Pe(t,window.Object)&&(this.unshift(t),l(this,Lt,Ae).call(this,t))}replace(t,i){t>-1&&Pe(i,window.Object)&&l(this,Lt,Ae).call(this,this[t]=i)}on_version_change(){}persist(){return Zi(t=>gi(this,i=>{switch(i){case"owner":case"last":case"length":break;case"version":t[i]=this[i];break;default:if(window.Number.isInteger(window.Number(i))){let r=Ei(this[i]);r.cache&&(r.cache=null),t.push(r)}break}}))}restore(t){gi(t,i=>{switch(i){case"length":break;case"version":this[i]=t[i];break;default:if(window.Number.isInteger(window.Number(i))){let r=Ei(t[i]);r.cache&&(r.cache=null),this.push(r)}break}})}};Lt=new WeakSet,Ae=function(t){this.last=t,this.version++,this.on_version_change()};var be,Ti,ve,Si,Oe,bi,Ne,vi,Ce,Oi,Rt,Se,De,Ni,{EMPTY_STRING:W,EMPTY_ARRAY:tn,noop:Te,buildArray:kn,buildObject:en,isOf:C,hasObjectKeys:yi,isNonEmptyString:H,forcedStringSplit:nn}=h,{DEFAULT_TAG:sn,DEFAULT_KIND:rn,TEMPLATES_KIND:ze,SLOTS_KIND:Be}=b,nt={onInvalidDefinition:Te,onInexistentTemplate:Te,onUnespecifiedSlot:Te,onInvalidId:Te},Y=class{static parse(e){if(H(e)){let t=e.trimLeft(),i=Ii();return t.charAt(0)==="%"?t.startsWith(ze)?l(this,Rt,Se).call(this,i,t.replace(i.kind=ze,W)):t.startsWith(Be)?l(this,Rt,Se).call(this,i,t.replace(i.kind=Be,W)):null:l(this,Rt,Se).call(this,i,t)}return null}};be=new WeakSet,Ti=function(e,t){let i=t.indexOf("["),r=t.indexOf("]");if(i>-1&&r>-1&&r>i){let a=t.substr(i,r-i+1),c=a.substr(1,a.length-2).split("|");for(let f in c){let I=c[f].split("=");I[0]==="style"?I[1].split(";").forEach(j=>{let ti=j.split(":"),ei=ti[0].trim();ei.length&&(e.style[ei]=ti[1].trim())}):e.attributes[I[0]]=I[1]}return t.replace(a,W)}return t},ve=new WeakSet,Si=function(e,t){let i=t.indexOf("=");return i>-1?(e.content=t.slice(i+1),!!e.content.length&&e.content.charAt(0)==="&"&&(e.content=e.content.slice(1),e.encode=!!e.content.length&&e.content.charAt(0)!=="&"),t.slice(0,i)):t},Oe=new WeakSet,bi=function(e,t){let i=t.replaceAll("!"," ").split(" ");return i.slice(1).map(r=>{let[a,...c]=r.toLowerCase().split("+"),f=(c||tn).indexOf("capture")>-1;e.events.push(Ai(a,f))}),i[0]},Ne=new WeakSet,vi=function(e,t){let i=t.replaceAll("."," ").split(" ");return e.classes=i.slice(1),i[0]},Ce=new WeakSet,Oi=function(e,t){if(H(t)){let i=t.indexOf("#");i===-1?e.tag=t:(i>0&&(e.tag=t.substr(0,i)),e.id=t.substr(i+1))}return e},Rt=new WeakSet,Se=function(e,t){return l(this,Ce,Oi).call(this,e,l(this,Ne,vi).call(this,e,l(this,Oe,bi).call(this,e,l(this,ve,Si).call(this,e,l(this,be,Ti).call(this,e,t)))))},o(Y,be),o(Y,ve),o(Y,Oe),o(Y,Ne),o(Y,Ce),o(Y,Rt);var Vt=class{static parse(e){return en(t=>(C(e,window.Array)?e:nn(e,`
`).map(i=>i.trim()).join(W).split(";")).forEach(i=>H(i)&&l(this,De,Ni).call(this,t,i.trim())))}};De=new WeakSet,Ni=function(e,t){if(!!t.length&&t.indexOf(":")>-1){let[i,...r]=t.split(":"),a=i.trim();if(a.length){let c=r.join(":").trim();e[a]=c.endsWith(";")?c.slice(0,-1):c}}},o(Vt,De);var Ii=()=>({kind:rn,tag:sn,id:W,classes:new window.Array,attributes:new window.Object,style:new window.Object,events:new window.Array,content:W,encode:!1}),Ai=(s,e)=>typeof s=="string"&&typeof e=="boolean"?{kind:s,capture:e}:null,on=(s,e)=>{let t=Y.parse(s);return t?(t.rules=C(e,window.Array)?e:new window.Array,t.rendering=!0,t.cache=null,t):nt.onInvalidDefinition(s)},an=s=>{if(s!==null){if(s.kind===ze){if(!window.document.getElementById(s.id))return nt.onInexistentTemplate(s.id)}else if(s.kind===Be){if(new window.String(s.attributes.slot).replaceAll('"',W).replaceAll("'",W).length===0)return nt.onUnespecifiedSlot(s.id)}else if(typeof s.id!="string"||H(s.id)&&window.document.getElementById(s.id)!==null)return nt.onInvalidId(s.id)}return s},dn=s=>{if(!C(s,window.Object))return null;let e=window.document.createElement(s.tag);if(s.id.length&&e.setAttribute("id",s.id),s.classes.length&&e.setAttribute("class",s.classes.join(" ")),yi(s.style)){var t=new window.String;for(let i in s.style)t+=i+": "+s.style[i]+"; ";if(t.length){let i=t.trim();e.setAttribute("style",i.endsWith(";")?i.slice(0,-1):i)}}if(yi(s.attributes))for(let i in s.attributes)e.setAttribute(i,s.attributes[i]);return e},ln=(s,e)=>{let t=window.document.createElement("style");return H(s)&&t.setAttribute("media",s),H(e)&&t.setAttribute("type",e),t.appendChild(window.document.createTextNode(W)),t},hn=(s,e)=>{let t=C(s,window.Array)?s.join(","):H(s)?s:W;return t.length?{selector:t,properties:C(e,window.Object)?e:Vt.parse(e),cache:null}:null},cn=(s,e,t)=>{let i=C(s,window.Array)?s.join(","):H(s)?s:W,r=C(e,window.Array)?e.join(","):H(e)?e:W;return!i.length||!r.length?null:{selector:i,nested:[{selector:r,properties:C(t,window.Object)?t:Vt.parse(t)}],cache:null}},un=(s,e)=>{if(s.selector===e.selector){for(let t in e.properties)s.properties[t]=e.properties[t];return s.cache=null,!0}return!1},fn=(s,e)=>C(s.nested,window.Array)&&s.selector===e.selector?(e.nested.forEach(t=>{var i=!1;for(let r in s.nested)if(i=s.nested[r].selector===t.selector){for(let a in t.properties)s.nested[r].properties[a]=t.properties[a];break}i||s.nested.push(t)}),s.cache=null,!0):!1,w=class{static initialize(e){C(e,window.Object)&&(C(e.onInvalidDefinition,window.Function)&&(nt.onInvalidDefinition=e.onInvalidDefinition),C(e.onInexistentTemplate,window.Function)&&(nt.onInexistentTemplate=e.onInexistentTemplate),C(e.onUnespecifiedSlot,window.Function)&&(nt.onUnespecifiedSlot=e.onUnespecifiedSlot),C(e.onInvalidId,window.Function)&&(nt.onInvalidId=e.onInvalidId))}};d(w,"makeStyleNode",ln),d(w,"newRule",hn),d(w,"newNestedRule",cn),d(w,"tryToJoinRules",un),d(w,"tryToJoinNestedRules",fn),d(w,"performValidations",an),d(w,"makeMainNode",dn),d(w,"newChild",on),d(w,"newDefinition",Ii),d(w,"newEvent",Ai);var x,A,y,K,m,Ut,V,J,rt,k,X,Xt,mt,q,ot,R,Q,Z,p,Wt,qt,Et,$,tt,pt,Le,Di,Re,_i,Me,Li,Ue,Ri,at,Mt,Qt,Ye,Zt,Ve,te,Je,We,Mi,ee,Xe,Fe,Ui,ie,qe,xe,Wi,D,F,ne,Qe,Ft,$e,Fi,xt,_e,se,Ze;function Ci(s,e,t,i,r){let a=(I,j)=>window.Object.defineProperty(s,e,{get:I,set:j,enumerable:!0,configurable:!0}),c=()=>delete s[e],f=(I,j)=>Ci(s,e,I,j,r);a(()=>t,I=>{f(I,i),h.isOf(i,window.Function)?i({renderize:j=>r(e,j),automate:()=>f(I,null),freeze:()=>a(()=>I,j=>{}),defreeze:()=>f(I,i),dereact:()=>a(()=>I,j=>{c(),s[e]=j}),remove:()=>c()}):r(e)})}var wn=["on_create","on_construct","on_reconstruct","on_connect","on_inject","on_load","on_prerender","on_update","on_postrender","on_refresh","on_unload","on_reload","on_repaint","on_disconnect"],He=class{static get REGULAR(){return"regular"}static get OPEN(){return"open"}static get CLOSED(){return"closed"}},st={onInvalidKey:h.noop,onInvalidDefinition:h.noop,onAllowHTML:h.noop},Jt=class extends window.HTMLElement{constructor(t){super();o(this,tt);o(this,Le);o(this,Re);o(this,Me);o(this,Ue);o(this,at);o(this,Qt);o(this,Zt);o(this,te);o(this,We);o(this,ee);o(this,Fe);o(this,ie);o(this,xe);o(this,D);o(this,ne);o(this,$e);o(this,xt);o(this,se);o(this,x,new window.String);o(this,A,new class extends wt{on_version_change(){var t;this.last.version=this.version,this.last.replacements=L.extractReplacementsFromRule(this.last),window.Wuse.DEBUG&&l(t=this.owner,tt,pt).call(t,`rules list version change: ${this.version}`)}}(this));o(this,y,new class extends wt{on_version_change(){var t,i;this.last.version=this.version,this.last.replacements=L.extractReplacementsFromChild(this.last),u(t=this.owner,J,n(t,J)|this.last.kind===b.SLOTS_KIND),window.Wuse.DEBUG&&l(i=this.owner,tt,pt).call(i,`children list version change: ${this.version}`)}}(this));o(this,K,new class extends wt{on_version_change(){var t;window.Wuse.DEBUG&&l(t=this.owner,tt,pt).call(t,`fields list version change: ${this.version}`)}snapshot(){this.forEach(t=>t.value=this.owner[t.name])}recall(){this.forEach(t=>this.owner[t.name]=t.value)}}(this));o(this,m,{mainDefinition:w.newDefinition(),styleMedia:b.DEFAULT_STYLE_MEDIA,styleType:b.DEFAULT_STYLE_TYPE,rawContent:!1,attributeKeys:!1,elementKeys:!0});o(this,Ut,new window.Object);o(this,V,!1);o(this,J,!1);o(this,rt,void 0);o(this,k,void 0);o(this,X,null);o(this,Xt,window.Wuse.isShadowElement(this));o(this,mt,!1);o(this,q,!1);o(this,ot,window.Wuse.elementsStorage);o(this,R,null);o(this,Q,new window.String);o(this,Z,!1);o(this,p,{root:new class extends ft{on_content_invalidation(t){this.owner.innerHTML=t}}(this),style:new class extends ft{on_content_invalidation(t){n(this.owner,k).promote(t)}}(this),main:new class extends ft{on_content_invalidation(t){n(this.owner,rt).promote(t)}}(this),renderizers:{rule:t=>n(this,p).style.append(t.cache?t.cache:t.cache=E.renderRule(n(this,Wt),t)),children:{mixed:t=>n(this,Xt)&&t.kind===b.SLOTS_KIND?n(this,p).renderizers.children.slot(t):n(this,p).renderizers.children.normal(t),slot:t=>{t.cache||(n(this,p).root.verify(i=>!0),n(this,p).root.append(t.cache=E.renderChild(n(this,Wt),t)))},normal:t=>{n(this,p).main.append(t.cache?t.cache:t.cache=E.renderChild(n(this,Wt),t)),t.rules.forEach(n(this,p).renderizers.rule)}}},gotModified:()=>n(this,p).root.invalidated||n(this,p).main.invalidated||n(this,p).style.invalidated,getDebugInfo:()=>`updated (root: ${n(this,p).root.invalidated}, main: ${n(this,p).main.invalidated}, style: ${n(this,p).style.invalidated})`});o(this,Wt,(t,i)=>t.replace(i.find,this[i.field]!==void 0?this[i.field]:h.EMPTY_STRING));o(this,qt,{bind:{key:()=>{let t=i=>{h.isNonEmptyString(i)&&(this[i]=l(this,Qt,Ye).call(this,i))};return n(this,V)&&t(n(this,m).mainDefinition.id),i=>t(i.id)},event:"addEventListener"},unbind:{key:()=>{let t=i=>delete this[i];return n(this,V)&&t(n(this,m).mainDefinition.id),i=>t(i.id)},event:"removeEventListener"}});o(this,Et,{main:new Dt(window.Wuse.hashRoutine),style:new Dt(window.Wuse.hashRoutine)});o(this,$,{attachment:new window.Wuse.PerformanceMeasurement.StopWatch,partial:new window.Wuse.PerformanceMeasurement.StopWatch,full:new window.Wuse.PerformanceMeasurement.StopWatch,dettachment:new window.Wuse.PerformanceMeasurement.StopWatch});o(this,Ft,()=>wn.forEach(t=>n(this,Ut)[t]=typeof this[t]=="function"));d(this,"info",{instanceNumber:++Jt.instancesCount,unmodifiedRounds:0,updatedRounds:0});u(this,X,t!==Jt.RootMode.REGULAR?this.attachShadow({mode:t}):this),n(this,Ft).call(this),l(this,D,F).call(this,"on_create"),n(this,m).attributeKeys&&this.getAttributeNames().forEach(i=>this[i]=this.getAttribute(i)),l(this,$e,Fi).call(this)&&n(this,R).generation>1?l(this,D,F).call(this,"on_reconstruct",n(this,R)):l(this,D,F).call(this,"on_construct")}get render(){return n(this,q)?l(this,We,Mi):h.noop}get redraw(){return n(this,q)?l(this,Fe,Ui):h.noop}connectedCallback(){window.Wuse.MEASURE&&n(this,$).attachment.start(),n(this,Ft).call(this),l(this,D,F).call(this,"on_connect"),l(this,ee,Xe).call(this,"on_load"),n(this,Z)&&this.persistToElementsStore(),window.Wuse.MEASURE&&n(this,$).attachment.stop(window.Wuse.DEBUG)}disconnectedCallback(){window.Wuse.MEASURE&&n(this,$).dettachment.start(),l(this,at,Mt).call(this,!1),l(this,D,F).call(this,"on_disconnect"),window.Wuse.MEASURE&&n(this,$).dettachment.stop(window.Wuse.DEBUG)}getElementsStore(){return n(this,ot)}setElementsStore(t){u(this,ot,t)}hasElementsStoreKey(t){return n(this,Z)}getElementsStoreKey(t){return n(this,Q)}setElementsStoreKey(t){return u(this,Z,h.isNonEmptyString(u(this,Q,t))),this}persistToElementsStore(){if(l(this,se,Ze).call(this)){let t=n(this,R);if(t)return n(this,K).snapshot(),t.data=new window.Object({options:n(this,m),html:n(this,x),children:n(this,y).persist(),rules:n(this,A).persist(),fields:n(this,K).persist(),slotted:n(this,J),identified:n(this,V)}),l(this,xt,_e).call(this),!0}return!1}restoreFromElementsStore(t){if(l(this,se,Ze).call(this)){let i=n(this,R);if(i&&i.persisted&&i.data)return u(this,m,i.data.options),u(this,J,i.data.slotted),u(this,V,i.data.identified),u(this,x,i.data.html),n(this,y).restore(i.data.children),n(this,y).owner=this,n(this,A).restore(i.data.rules),n(this,A).owner=this,n(this,K).restore(i.data.fields),n(this,K).owner=this,n(this,K).recall(),t||(delete i.data,l(this,xt,_e).call(this)),!0}return!1}selectChildElement(t){return n(this,X).querySelector(t)}setMainAttribute(t,i){n(this,mt)&&n(this,rt).element.setAttribute(t,i)}setMainElement(t){let i=w.performValidations(w.newChild(t));if(i!==null){if(h.isNonEmptyString(i.content)||h.isNonEmptyArray(i.events))return st.onInvalidDefinition(t);u(this,V,h.isNonEmptyString(i.id))&&(n(this,m).mainDefinition.id=i.id),h.isNonEmptyString(i.tag)&&(n(this,m).mainDefinition.tag=i.tag),h.isNonEmptyArray(i.classes)&&(n(this,m).mainDefinition.classes=i.classes),h.isOf(i.style,window.Object)&&(n(this,m).mainDefinition.style=i.style),h.isOf(i.attributes,window.Array)&&(n(this,m).mainDefinition.attributes=i.attributes)}return this}setStyleOptions(t,i){return n(this,m).styleMedia=h.isNonEmptyString(t)?t:h.EMPTY_STRING,n(this,m).styleType=h.isNonEmptyString(i)?i:h.EMPTY_STRING,this}setElementsAsKeys(t){return n(this,m).elementKeys=!!t,this}setAttributesAsKeys(t){return n(this,m).attributeKeys=!!t,this}allowRawContent(t){return n(this,m).rawContent=!!t,this}setRawContent(t){return n(this,m).rawContent?u(this,x,t):st.onAllowHTML(),this}appendRawContent(t){return n(this,m).rawContent?u(this,x,n(this,x)+t):st.onAllowHTML(),this}prependRawContent(t){return n(this,m).rawContent?u(this,x,t+n(this,x)):st.onAllowHTML(),this}appendCSSRule(t,i,r){if(r)return this.appendCSSNestedRule(t,i,r);let a=n(this,A).slice(-1),c=w.newRule(t,i);return(!a.length||!w.tryToJoinRules(a[0],c))&&n(this,A).append(c),this}prependCSSRule(t,i,r){if(r)return this.prependCSSNestedRule(t,i,r);let a=n(this,A).slice(0,1),c=w.newRule(t,i);return(!a.length||!w.tryToJoinRules(a[0],c))&&n(this,A).prepend(c),this}appendCSSNestedRule(t,i,r){let a=n(this,A).slice(-1),c=w.newNestedRule(t,i,r);return(!a.length||!w.tryToJoinNestedRules(a[0],c))&&n(this,A).append(c),this}prependCSSNestedRule(t,i,r){let a=n(this,A).slice(0,1),c=w.newNestedRule(t,i,r);return(!a.length||!w.tryToJoinNestedRules(a[0],c))&&n(this,A).prepend(c),this}appendChildElement(t,i){let r=w.performValidations(w.newChild(t,i));return r!==null&&n(this,y).append(r),this}prependChildElement(t,i){let r=w.performValidations(w.newChild(t,i));return r!==null&&n(this,y).prepend(r),this}replaceChildElement(t,i,r){let a=w.newChild(i,r);return a!==null&&n(this,y).replace(n(this,y).findIndex(c=>c.id===t),a),this}appendChildElements(t){return(h.isOf(t,window.Array)?t:h.forcedStringSplit(t,`
`)).forEach(i=>typeof i=="string"&&!!i.trim().length&&this.appendChildElement(i)),this}prependChildElements(t){return(h.isOf(t,window.Array)?t:h.forcedStringSplit(t,`
`)).forEach(i=>typeof i=="string"&&!!i.trim().length&&this.prependChildElement(i)),this}checkChildElementIsIncludedById(t,i,r){let a=c=>h.isOf(c,window.Function)?c():void 0;return n(this,y).some(c=>c.id===t&&c.rendering)?a(i):a(r),this}includeChildElementById(t){return n(this,y).forEach(i=>i.id===t&&E.renderingIncluder(i)),this}excludeChildElementById(t){return n(this,y).forEach(i=>i.id===t&&E.renderingExcluder(i)),this}invalidateChildElementsById(t){return n(this,y).forEach(i=>t.indexOf(i.id)>-1&&E.cacheInvalidator(i)),this}invalidateChildElements(t){return h.isOf(t,window.Array)&&t.forEach(E.cacheInvalidator),this}makeField(t,i){return this[t]=i,n(this,K).append({name:t,value:i}),this}makeReactiveField(t,i,r,a=!0){return l(this,xe,Wi).call(this,t,i,r,a)}makeExternalReactiveField(t,i,r,a,c=!0){return this.makeReactiveField(i,t[i]||r,f=>{t[i]=this[i],a(f)},c)}static initialize(t){if(L.initialize(b.DEFAULT_REPLACEMENT_OPEN,b.DEFAULT_REPLACEMENT_CLOSE),h.isOf(t,window.Object)){h.isOf(t.onFetchTemplate,window.Function)&&E.initialize({onFetchTemplate:t.onFetchTemplate}),h.isOf(t.onAllowHTML,window.Function)&&(st.onAllowHTML=t.onAllowHTML),h.isOf(t.onInvalidKey,window.Function)&&(st.onInvalidKey=t.onInvalidKey);let i={onInvalidDefinition:h.noop,onInexistentTemplate:h.noop,onUnespecifiedSlot:h.noop,onInvalidId:h.noop};h.isOf(t.onInvalidDefinition,window.Function)&&(st.onInvalidDefinition=t.onInvalidDefinition,i.onInvalidDefinition=t.onInvalidDefinition),h.isOf(t.onInexistentTemplate,window.Function)&&(i.onInexistentTemplate=t.onInexistentTemplate),h.isOf(t.onUnespecifiedSlot,window.Function)&&(i.onUnespecifiedSlot=t.onUnespecifiedSlot),h.isOf(t.onInvalidId,window.Function)&&(i.onInvalidId=t.onInvalidId),w.initialize(i)}}},v=Jt;x=new WeakMap,A=new WeakMap,y=new WeakMap,K=new WeakMap,m=new WeakMap,Ut=new WeakMap,V=new WeakMap,J=new WeakMap,rt=new WeakMap,k=new WeakMap,X=new WeakMap,Xt=new WeakMap,mt=new WeakMap,q=new WeakMap,ot=new WeakMap,R=new WeakMap,Q=new WeakMap,Z=new WeakMap,p=new WeakMap,Wt=new WeakMap,qt=new WeakMap,Et=new WeakMap,$=new WeakMap,tt=new WeakSet,pt=function(t){n(this,V)&&window.Wuse.debug(`#${n(this,m).mainDefinition.id} (${this.info.instanceNumber}) | ${typeof t=="string"?t:JSON.stringify(t)}`)},Le=new WeakSet,Di=function(){n(this,k)&&n(this,k).affiliate(),n(this,rt).affiliate(),u(this,mt,!0)},Re=new WeakSet,_i=function(){u(this,k,n(this,A).length?new _t(n(this,X),w.makeStyleNode(n(this,m).styleMedia,n(this,m).styleType)):null),u(this,rt,new _t(n(this,X),w.makeMainNode(n(this,m).mainDefinition))),n(this,y).forEach(E.cacheInvalidator),n(this,A).forEach(E.cacheInvalidator)},Me=new WeakSet,Li=function(){n(this,mt)&&(n(this,rt).disaffiliate(),n(this,k)&&n(this,k).disaffiliate(),n(this,J)&&n(this,Xt)&&window.Wuse.WebHelpers.removeChildren(this)),u(this,mt,!1)},Ue=new WeakSet,Ri=function(t){return{key:n(this,m).elementKeys&&t.key(),event:(i,r,a)=>{let c=this[`on_${i}_${r}`];if(c){let f=l(this,Qt,Ye).call(this,i);f&&f[t.event](r,c,a)}},slots:()=>this.on_slot_change&&n(this,X).querySelectorAll("slot").forEach(i=>i[t.event]("slotchange",this.on_slot_change))}},at=new WeakSet,Mt=function(t){if(n(this,q)&&!t||!n(this,q)&&t){let i=l(this,Ue,Ri).call(this,t?n(this,qt).bind:n(this,qt).unbind);n(this,y).forEach(r=>{!r.rendering&&t||(i.key&&i.key(r),r.events.forEach(a=>a&&i.event(r.id,a.kind,a.capture)))}),n(this,J)&&i.slots(),u(this,q,t)}},Qt=new WeakSet,Ye=function(t){return h.isNonEmptyString(t)?n(this,X).querySelector(`#${t}`):void 0},Zt=new WeakSet,Ve=function(){n(this,p).root.reset(h.EMPTY_STRING),n(this,p).style.reset(h.EMPTY_STRING),n(this,p).main.reset(n(this,x));let t=n(this,J)?n(this,p).renderizers.children.mixed:n(this,p).renderizers.children.normal;n(this,y).forEach(i=>i.rendering&&t(i)),n(this,A).forEach(n(this,p).renderizers.rule),n(this,p).main.verify(i=>!n(this,Et).main.compute(i)),n(this,p).style.verify(i=>!n(this,Et).style.compute(i))},te=new WeakSet,Je=function(){n(this,p).root.process(),n(this,p).style.process(),n(this,p).main.process(),window.Wuse.DEBUG&&l(this,tt,pt).call(this,n(this,p).getDebugInfo())},We=new WeakSet,Mi=function(){!window.Wuse.RENDERING||(window.Wuse.MEASURE&&n(this,$).partial.start(),l(this,D,F).call(this,"on_prerender"),l(this,Zt,Ve).call(this),n(this,p).gotModified()?(l(this,at,Mt).call(this,!1),l(this,te,Je).call(this),l(this,at,Mt).call(this,!0),this.info.updatedRounds++,l(this,D,F).call(this,"on_update"),l(this,ne,Qe).call(this,"on_refresh")):this.info.unmodifiedRounds++,window.Wuse.DEBUG&&l(this,tt,pt).call(this,`unmodified: ${this.info.unmodifiedRounds} (main: ${n(this,Et).main.rounds}, style: ${n(this,Et).style.rounds}) | updated: ${this.info.updatedRounds}`),l(this,D,F).call(this,"on_postrender"),window.Wuse.MEASURE&&n(this,$).partial.stop(window.Wuse.DEBUG))},ee=new WeakSet,Xe=function(t){l(this,Re,_i).call(this),l(this,Le,Di).call(this),l(this,D,F).call(this,"on_inject"),l(this,Zt,Ve).call(this),n(this,p).style.verify(i=>!!n(this,k)),l(this,te,Je).call(this),l(this,at,Mt).call(this,!0),l(this,D,F).call(this,t)},Fe=new WeakSet,Ui=function(){window.Wuse.MEASURE&&n(this,$).full.start(),l(this,at,Mt).call(this,!1),l(this,Me,Li).call(this),l(this,D,F).call(this,"on_unload"),n(this,Ft).call(this),l(this,ee,Xe).call(this,"on_reload"),l(this,ne,Qe).call(this,"on_repaint"),window.Wuse.MEASURE&&n(this,$).full.stop(window.Wuse.DEBUG)},ie=new WeakSet,qe=function(t,i="$none"){if(n(this,q)){let r=L.scanRulesForReplacements(n(this,A),t);r.forEach(E.cacheInvalidator);let a=L.scanChildrenForReplacements(n(this,y),t);a.forEach(E.cacheInvalidator),window.Wuse.DEBUG&&l(this,tt,pt).call(this,`reactive render (label: ${i}, field: ${t}, children: ${a.length}, rules: ${r.length})`),(!!r.length||!!a.length)&&(a.some(c=>!!c.kind.length)&&n(this,y).forEach(c=>c.kind===b.SLOTS_KIND?E.cacheInvalidator(c):void 0),this.render())}},xe=new WeakSet,Wi=function(t,i,r,a=!0){return Ci(this,t,i,r,(c,f)=>l(this,ie,qe).call(this,c,f||"$auto")),n(this,K).append({name:t,value:i}),a&&l(this,ie,qe).call(this,t,"$init"),this},D=new WeakSet,F=function(t,i){n(this,Ut)[t]&&this[t].call(this,i)},ne=new WeakSet,Qe=function(t,i){n(this,Z)&&this.persistToElementsStore(),n(this,Ut)[t]&&window.requestAnimationFrame(()=>this[t].call(this,i))},Ft=new WeakMap,$e=new WeakSet,Fi=function(){return n(this,Z)?(u(this,R,n(this,ot).hasItem(n(this,Q))?n(this,ot).getItem(n(this,Q)):{generation:0,persisted:!1}),n(this,R).generation++,l(this,xt,_e).call(this),!0):!1},xt=new WeakSet,_e=function(){window.Wuse.DEBUG&&(n(this,R).key=n(this,Q)),n(this,R).persisted=!!n(this,R).data,n(this,ot).setItem(n(this,Q),n(this,R))},se=new WeakSet,Ze=function(){return n(this,Z)?!0:(st.onInvalidKey(),!1)},d(v,"RootMode",He),d(v,"specializeClass",t=>class extends Jt{constructor(){super(t)}}),d(v,"instancesCount",0);var O;window.Wuse=(O=class{static get VERSION(){return"0.4.4"}static get elementCount(){return v.instancesCount}static blockUpdate(s,e){if(h.isOf(s,Function)){window.Wuse.DEBUG&&window.Wuse.debug("blocking"),window.Wuse.RENDERING=!1;try{s(e)}catch(t){throw t}finally{window.Wuse.RENDERING=!0,window.Wuse.DEBUG&&window.Wuse.debug("unblocking")}}}static debug(s){window.console.log("[WUSE:DEBUG]",s)}static register(s){return S.registerClasses(h.isOf(s,window.Array)?s:new window.Array(s))}static instantiate(s,e,t){return S.instantiateClasses(h.isOf(s,window.Array)?s:new window.Array(s),e,t)}static isShadowElement(s){let e=window.Object.getPrototypeOf(s.constructor);return e===window.Wuse.OpenShadowElement||e===window.Wuse.ClosedShadowElement}},d(O,"WebHelpers",P),d(O,"JsHelpers",h),d(O,"PerformanceMeasurement",M),d(O,"tmp",new window.Object),d(O,"DEBUG",!1),d(O,"FATALS",!1),d(O,"MEASURE",!1),d(O,"RENDERING",!0),d(O,"elementsStorage",new jt),d(O,"hashRoutine",s=>{var e=0;for(let t=0;t<s.length;t++)e=(e=(e<<5)-e+s.charCodeAt(t))&e;return e}),d(O,"NonShadowElement",v.specializeClass(v.RootMode.REGULAR)),d(O,"OpenShadowElement",v.specializeClass(v.RootMode.OPEN)),d(O,"ClosedShadowElement",v.specializeClass(v.RootMode.CLOSED)),(()=>{let s=(e,t)=>!e&&g.UNSUPPORTED_FEATURE.emit(t);try{s(h.isOf(window.document,window.HTMLDocument),"HTML Document"),s(h.isOf(window.customElements,window.CustomElementRegistry),"Custom Elements"),P.onDOMContentLoaded(()=>s(h.isOf(window.document.body.attachShadow,window.Function),"Shadow DOM"))}catch(e){g.UNKNOWN_ERROR.emit()}M.initialize((e,t)=>window.Wuse.debug(JSON.stringify(h.buildArray(i=>{switch(i.push({instances:window.Wuse.elementCount}),i.push(e.getDebugInfo()),t){case"stop":i.push(M.DOMUpdate.overall.getDebugInfo());break;case"finish":i.push(M.BrowserRender.overall.getDebugInfo());break}})))),et.initialize({onExtinctTemplate:g.EXTINCT_TEMPLATE.emit,onInvalidTemplate:g.INVALID_TEMPLATE.emit}),S.initialize({onMisnamedClass:g.MISNAMED_CLASS.emit,onUnregistrableClass:g.UNREGISTRABLE_CLASS.emit,onUnregisteredClass:g.UNREGISTERED_CLASS.emit,onInvalidClass:g.INVALID_CLASS.emit,onDeferredInstantiation:P.onDOMContentLoaded}),v.initialize({onAllowHTML:g.ALLOW_HTML.emit,onInvalidKey:g.INVALID_KEY.emit,onInvalidDefinition:g.INVALID_DEFINITION.emit,onInexistentTemplate:g.INEXISTENT_TEMPLATE.emit,onUnespecifiedSlot:g.UNESPECIFIED_SLOT.emit,onInvalidId:g.INVALID_ID.emit,onFetchTemplate:et.fetch})})(),O);})();
